
# Git 기본 개념 및 프로젝트 연동 + 병합

## 1. Git이란?

* **분산 버전 관리 시스템**
* 커밋 단위로 변경사항 추적
* 브랜치로 실험/개발 분리 가능

## 2. 브랜치 개념

* `main`: 메인 브랜치
* `dev`: 통합 개발 브랜치

## 3. Checkout 명령어

```bash
git checkout <브랜치>     # 브랜치 이동
git checkout -b <브랜치>  # 브랜치 생성 + 이동
```

## 4. GitLab 프로젝트 연동 절차

```bash
mkdir ~/openstack-auto
cd ~/openstack-auto

git init

touch README.md .gitignore
echo "# OpenStack 자동화 프로젝트" > README.md
echo ".terraform/" >> .gitignore
echo "*.tfstate*" >> .gitignore
echo "*.tfplan" >> .gitignore
echo "*.backup" >> .gitignore

# main 브랜치 생성 및 연결
git checkout -b main
git add .
git commit -m "init: main"
git remote add origin http://<your-ip>:8081/root/openstack-auto.git
git push -u origin main

# dev 브랜치 생성 및 연결
git checkout -b dev
git add .
git commit -m "init: dev"
git push -u origin dev
```

> 이후 모든 작업은 `dev` 브랜치에서 진행하고, 병합 시 `main`으로 Pull Request 수행


## 5. 로컬 vs 원격 브랜치의 차이

| 구분     | 로컬(Local)           | 원격(Remote, GitLab)      |
| ------ | ------------------- | ----------------------- |
| 위치     | 내 컴퓨터               | GitLab 서버 (또는 GitHub 등) |
| 브랜치 생성 | 수동으로 직접 생성          | `git push`해야 생김         |
| 변경 내역  | `git commit`으로 기록   | `git push`로 전달해야 반영됨    |
| 동기화    | 명시적으로 fetch/push 필요 | 자동 연동 X                 |

> 브랜치 이름이 무엇이든 Git은 `add → commit → push` 순서를 따라야만 변경이 추적되고 반영됨

---

## 6. 병합(Merge) 작업 및 워크플로우

### Merge Request 생성 및 병합

**GitLab 웹 인터페이스**:

1. GitLab 웹 → `Merge Requests` → `New merge request`
2. Source: `dev`
3. Target: `main`
4. Create → Merge

**또는 CLI에서 병합할 경우**:

```bash
git checkout main
git pull origin main
git merge dev
git push origin main
```

> 병합 전 반드시 main 브랜치의 최신 상태를 pull 해와야 충돌을 방지할 수 있음
